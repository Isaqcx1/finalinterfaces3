<!-- MEN√ö ADMIN -->
<nav class="menu-admin">
    <a routerLink="/admin/dashboard">Dashboard</a>
    <a routerLink="/admin/cursos">Cursos</a>
    <a routerLink="/admin/usuarios">Usuarios</a>
    <a routerLink="/admin/reportes">Reportes</a>
    <button (click)="logout()">Cerrar Sesi√≥n</button>
</nav>

<div class="header-cursos">
    <h2>üìö Gesti√≥n de Cursos</h2>

    <button class="btn-nuevo" (click)="nuevoCurso()">‚ûï Nuevo Curso</button>
</div>
<!-- ‚úÖ FILTRO POR CATEGOR√çA -->
<div class="filtro-categoria">
    <label>Filtrar por categor√≠a:</label>
    <select [(ngModel)]="categoriaFiltro">
        <option value="Todas">Todas</option>
        <option *ngFor="let c of categorias" [value]="c">{{ c }}</option>
    </select>
</div>

<!-- ‚úÖ TABLA DE CURSOS -->
<table class="tabla">
    <thead>
        <tr>
            <th>Nombre</th>
            <th>Categor√≠a</th>
            <th>Duraci√≥n</th>
            <th>Precio</th>
            <th>Estado</th>
            <th>Acciones</th>
        </tr>
    </thead>

    <tbody>
        <tr *ngFor="let c of cursosFiltrados">
            <td>{{ c.nombre }}</td>
            <td>{{ c.categoria }}</td>
            <td>{{ c.duracion }} h</td>
            <td>S/. {{ c.precio }}</td>
            <td [class.activo]="c.estado === 'activo'" [class.inactivo]="c.estado === 'inactivo'">
                {{ c.estado }}
            </td>
            <td>
                <button class="btn-editar" (click)="editarCurso(c)">Editar</button>
                <button class="btn-eliminar" (click)="eliminarCurso(c.idCurso)">Eliminar</button>
            </td>
        </tr>
    </tbody>
</table>

<!-- ‚úÖ FORMULARIO SOLO CUANDO SE NECESITA -->
<div class="formulario" *ngIf="mostrarFormulario">

    <h3>{{ editando ? "Editar Curso" : "Nuevo Curso" }}</h3>

    <label>Nombre</label>
    <input [(ngModel)]="cursoActual.nombre">

    <label>Duraci√≥n (en horas)</label>
    <div class="input-horas">
        <input type="number" min="1" step="1" [(ngModel)]="cursoActual.duracion" placeholder="Ej: 10" />
        <span class="horas-label">H</span>
    </div>


    <label>Precio</label>
    <input type="number" [(ngModel)]="cursoActual.precio">

    <label>Descripci√≥n</label>
    <textarea [(ngModel)]="cursoActual.descripcion"></textarea>

    <label>Categor√≠a</label>
    <select [(ngModel)]="cursoActual.categoria">
        <option *ngFor="let c of categorias" [value]="c">{{ c }}</option>
    </select>

    <label>Estado</label>
    <select [(ngModel)]="cursoActual.estado">
        <option value="activo">Activo (Visible al usuario)</option>
        <option value="inactivo">Inactivo (Oculto)</option>
    </select>

    <button (click)="guardarCurso()">
        {{ editando ? "Guardar Cambios" : "Crear Curso" }}
    </button>
</div>