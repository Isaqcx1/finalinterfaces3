<!-- ğŸŸ¥ MENÃš ADMIN -->
<nav class="menu-admin">
  <a routerLink="/admin/dashboard">Dashboard</a>
  <a routerLink="/admin/cursos">Cursos</a>
  <a routerLink="/admin/usuarios">Usuarios</a>
  <a routerLink="/admin/reportes">Reportes</a>
  <button (click)="logout()">Cerrar SesiÃ³n</button>
</nav>

<h2>ğŸ“Š Reportes Generales</h2>

<div class="resumen">
  <div class="card">ğŸ‘¥ Usuarios: {{ totalUsuarios }}</div>
  <div class="card">ğŸ“š Cursos: {{ totalCursos }}</div>
  <div class="card">âœ… Inscripciones: {{ totalInscripciones }}</div>

  <!-- âœ… PROTECCIÃ“N PARA QUE NO EXPLOTE SI AÃšN CARGA -->
  <div class="card">
    ğŸ’° Monto total: S/. {{ montoTotal ? montoTotal.toFixed(2) : '0.00' }}
  </div>
</div>

<hr>

<h3>ğŸ“‚ Cursos Registrados por CategorÃ­a</h3>

<div class="barras">
  <div *ngFor="let c of cursosPorCategoria" class="barra">
    <span>{{ c.nombre }} ({{ c.cantidad }})</span>
    
    <div class="progreso">
      <!-- âœ… EVITA DIVISIÃ“N ENTRE 0 -->
      <div 
        class="fill" 
        [style.width.%]="totalInscripciones > 0 ? (c.cantidad / totalInscripciones) * 100 : 0">
      </div>
    </div>
  </div>
</div>

<hr>

<h3>ğŸ† Usuarios con mÃ¡s cursos</h3>

<table class="tabla">
  <thead>
    <tr>
      <th>Usuario</th>
      <th>Cantidad</th>
    </tr>
  </thead>

  <tbody>
    <tr *ngFor="let u of usuariosTop">
      <td>{{ u.nombre }}</td>
      <td>{{ u.cantidad }}</td>
    </tr>
  </tbody>
</table>
