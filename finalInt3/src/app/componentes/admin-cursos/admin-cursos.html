<!-- MEN√ö ADMIN -->
<nav class="menu-admin">
    <a routerLink="/admin/dashboard">Dashboard</a>
    <a routerLink="/admin/cursos">Cursos</a>
    <a routerLink="/admin/usuarios">Usuarios</a>
    <a routerLink="/admin/reportes">Reportes</a>
    <button (click)="logout()">Cerrar Sesi√≥n</button>
</nav>

<div class="header-cursos">
    <h2>üìö Gesti√≥n de Cursos</h2>

    <button class="btn-nuevo" (click)="nuevoCurso()">‚ûï Nuevo Curso</button>
</div>
<!-- ‚úÖ FILTRO POR CATEGOR√çA -->
<div class="filtro-categoria">
    <label>Filtrar por categor√≠a:</label>
    <select [(ngModel)]="categoriaFiltro">
        <option value="Todas">Todas</option>
        <option *ngFor="let c of categorias" [value]="c">{{ c }}</option>
    </select>
</div>

<!-- ‚úÖ TABLA DE CURSOS -->
<table class="tabla">
    <thead>
        <tr>
            <th>Nombre</th>
            <th>Categor√≠a</th>
            <th>Duraci√≥n</th>
            <th>Precio</th>
            <th>Estado</th>
            <th>Acciones</th>
        </tr>
    </thead>

    <tbody>
        <tr *ngFor="let c of cursosFiltrados">
            <td>{{ c.nombre }}</td>
            <td>{{ c.categoria }}</td>
            <td>{{ c.duracion }} h</td>
            <td>S/. {{ c.precio }}</td>
            <td [class.activo]="c.estado === 'activo'" [class.inactivo]="c.estado === 'inactivo'">
                {{ c.estado }}
            </td>
            <td>
                <button class="btn-editar" (click)="editarCurso(c)">Editar</button>
                <button class="btn-eliminar" (click)="eliminarCurso(c.id)">Eliminar</button>



            </td>
        </tr>
    </tbody>
</table>

<!-- ‚úÖ FORMULARIO SOLO CUANDO SE NECESITA -->
<!-- ‚úÖ MODAL BONITO PARA CREAR / EDITAR CURSO -->
<div class="overlay" *ngIf="mostrarFormulario">

  <div class="modal-form">

    <h3>{{ editando ? "‚úèÔ∏è Editar Curso" : "‚ûï Nuevo Curso" }}</h3>

    <div class="grid-form">

      <div class="campo">
        <label>Nombre</label>
        <input [(ngModel)]="cursoActual.nombre" placeholder="Nombre del curso">
      </div>

      <div class="campo">
        <label>Duraci√≥n (horas)</label>
        <div class="input-horas">
          <input type="number" min="1" step="1" [(ngModel)]="cursoActual.duracion">
          <span>H</span>
        </div>
      </div>

      <div class="campo">
        <label>Precio (S/.)</label>
        <input type="number" [(ngModel)]="cursoActual.precio">
      </div>

      <div class="campo">
        <label>Categor√≠a</label>
        <select [(ngModel)]="cursoActual.categoria">
          <option *ngFor="let c of categorias" [value]="c">{{ c }}</option>
        </select>
      </div>

      <div class="campo ancho">
        <label>Descripci√≥n</label>
        <textarea rows="3" [(ngModel)]="cursoActual.descripcion"></textarea>
      </div>

      <div class="campo">
        <label>Estado</label>
        <select [(ngModel)]="cursoActual.estado">
          <option value="activo">‚úÖ Activo</option>
          <option value="inactivo">‚ùå Inactivo</option>
        </select>
      </div>

    </div>

    <div class="botones-form">
      <button class="btn-guardar" (click)="guardarCurso()">
        {{ editando ? "Guardar Cambios" : "Crear Curso" }}
      </button>

      <button class="btn-cancelar" (click)="mostrarFormulario = false">
        Cancelar
      </button>
    </div>

  </div>

</div>
